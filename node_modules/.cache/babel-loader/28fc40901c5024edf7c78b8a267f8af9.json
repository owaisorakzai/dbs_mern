{"ast":null,"code":"var _jsxFileName = \"/home/owais/bds_app/src/components.js/dashboard/stats/stats.js\";\nimport Nav from '../nav';\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport Date from '../components/date';\nimport Filter from './filter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Stats extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onDateChange = event => {\n      this.setState[event.target.name] = event.target.value;\n      let array = [];\n      var a = new Date(event.target.value);\n      a = a.toLocaleString();\n      console.log(a);\n      this.state.users2.map(user => {\n        if (Date(this.state.sDate) <= Date(user.createdAt) && Date(this.state.eDate) >= Date(user.createdAt)) {\n          array.push(user);\n        }\n      });\n      this.setState({\n        users: array\n      });\n    };\n\n    this.array1 = [\"createdAt\", \"Name\", \"Surname\", \"Phone Number\", \"Email\", \"Address\", \"Status\"];\n    this.state = {\n      users: [],\n      users2: [],\n      partners: [],\n      sDate: \"\",\n      eDate: \"\",\n      collection: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:4242/users/').then(res => {\n      this.setState({\n        users: res.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    axios.get('http://localhost:4242/partners/').then(res => {\n      this.setState({\n        partners: res.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n    this.state.partners.forEach(partner => {\n      let unpaid = this.state.users.filter(user => {\n        return partner._id == user.lead, user.payment == \"Unpaid\";\n      }).length;\n      let paid = this.state.users.filter(user => {\n        return partner._id == user.lead, user.payment == \"Paid\";\n      }).length;\n      let temp = {\n        name: partner.name,\n        unpaid: unpaid,\n        paid: paid,\n        total: paid + unpaid\n      };\n      this.setState({\n        collection: temp\n      });\n    });\n  }\n\n  partnerName(partner) {\n    return this.state.users.map(user => {\n      return /*#__PURE__*/_jsxDEV(\"td\", {\n        children: partner.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  paidCount(partner) {\n    return this.state.users.filter(user => {\n      return user.lead == partner._id && user.status == 'Paid';\n    }).length;\n  }\n\n  unpaidCount(partner) {\n    return Number(this.state.users.filter(user => {\n      return user.lead == partner._id && user.status == 'Unpaid';\n    }).length);\n  }\n\n  total(partner) {\n    const paid = this.state.users.filter(user => {\n      return Number(user.lead == partner._id && user.status == 'Paid');\n    }).length;\n    const unpaid = this.state.users.filter(user => {\n      return user.lead == partner._id && user.status == 'Unpaid';\n    }).length;\n    return Number(paid + unpaid);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            paddingTop: '40px',\n            paddingBottom: '30px'\n          },\n          children: \"Stats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Filter, {\n          onDateChange: this.onDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          style: {\n            width: '5%',\n            textAlign: 'center',\n            padding: '5px',\n            borderRadius: '4px'\n          },\n          className: \"text-white bg-indigo-600 bg-[length:100px_100px]\",\n          children: \"SALES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          class: \"table table-bordered\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Partner Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Paid Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Unpaid Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Total Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.partners.map(partner => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: this.partnerName(partner)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: this.paidCount(partner)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: this.unpaidCount(partner)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: this.total(partner)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 15\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                width: '22%',\n                textAlign: 'center',\n                padding: '5px',\n                borderRadius: '4px'\n              },\n              className: \"text-white bg-indigo-600 bg-[length:100px_100px]\",\n              children: \"PAYMENT LINKS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              class: \"table table-bordered\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Partner Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Paid Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Total Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Conversion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.partners.map(partner => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: this.partnerName(partner)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: this.paidCount(partner)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: this.total(partner)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [this.paidCount(partner) * 100 / this.total(partner), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 15\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              style: {\n                width: '21%',\n                textAlign: 'center',\n                padding: '5px',\n                borderRadius: '4px'\n              },\n              className: \"text-white bg-indigo-600 bg-[length:100px_100px]\",\n              children: \"LEADS CHASED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              class: \"table table-bordered\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Partner Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Paid Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Total Order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Conversion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.partners.map(partner => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: this.partnerName(partner)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: this.paidCount(partner)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: this.total(partner)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 17\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [this.paidCount(partner) * 100 / this.total(partner), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 17\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 15\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/owais/bds_app/src/components.js/dashboard/stats/stats.js"],"names":["Nav","axios","React","Component","Date","Filter","Stats","constructor","props","onDateChange","event","setState","target","name","value","array","a","toLocaleString","console","log","state","users2","map","user","sDate","createdAt","eDate","push","users","array1","partners","collection","componentDidMount","get","then","res","data","catch","error","forEach","partner","unpaid","filter","_id","lead","payment","length","paid","temp","total","partnerName","paidCount","status","unpaidCount","Number","render","paddingTop","paddingBottom","width","textAlign","padding","borderRadius"],"mappings":"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","sourcesContent":["import Nav from '../nav'\nimport axios from 'axios';\nimport React, {Component } from 'react';\nimport Date from '../components/date';\nimport Filter from './filter';\n\n\nexport default class Stats extends Component {\n  constructor(props) {\n    super(props)\n    this.array1=[\"createdAt\",\"Name\",\"Surname\",\"Phone Number\",\"Email\",\"Address\",\"Status\"]\n    this.state={\n      users:[],\n      users2:[],\n      partners:[],\n      sDate:\"\",\n      eDate: \"\",\n      collection:[]\n    }\n  } \n  onDateChange=(event)=>{\n    this.setState[event.target.name]=event.target.value\n    let array=[]\n    var a=new Date(event.target.value)\n    a=a.toLocaleString()\n    console.log(a)\n    this.state.users2.map((user)=>{\n      if(Date(this.state.sDate)<=Date(user.createdAt) && Date(this.state.eDate)>=Date(user.createdAt)){\n        array.push(user)\n      }\n    })\n    this.setState({\n      users:array\n    })\n  }\n  componentDidMount(){\n        axios.get('http://localhost:4242/users/')\n        .then(res => {\n          this.setState({\n            users:res.data\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        axios.get('http://localhost:4242/partners/')\n        .then(res => {\n          this.setState({\n            partners:res.data\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n        this.state.partners.forEach((partner)=>{\n          let unpaid=this.state.users.filter(user=>{\n            return(\n              partner._id==user.lead,\n              user.payment==\"Unpaid\"\n            )\n\n          }).length\n          let paid=this.state.users.filter(user=>{\n            return(\n              partner._id==user.lead,\n              user.payment==\"Paid\"\n            )\n\n          }).length\n          let temp={\n            name:partner.name,\n            unpaid:unpaid,\n            paid:paid,\n            total:paid+unpaid\n          }\n          this.setState({\n            collection:temp\n          })\n        })\n  }\n  partnerName(partner){\n    return (this.state.users.map((user)=>{\n        return (<td>{partner.name}</td>)\n      \n    })\n    )\n  }\n  paidCount(partner){\n    return(\n      this.state.users.filter((user)=>{\n        return(\n        user.lead==partner._id &&\n        user.status=='Paid')\n      }).length\n    )}\n  unpaidCount(partner){\n    return Number(\n      this.state.users.filter((user)=>{\n        return(\n        user.lead==partner._id &&\n        user.status=='Unpaid')\n      }).length\n    )}\n    total(partner){\n        const paid=this.state.users.filter((user)=>{\n          return Number(\n          user.lead==partner._id &&\n          user.status=='Paid'\n          )\n        }).length\n        const unpaid=this.state.users.filter((user)=>{\n          return(\n          user.lead==partner._id &&\n          user.status=='Unpaid'\n          )\n        }).length\n        return Number(paid+unpaid)\n\n    }\n render(){\n  \n  return (\n    <>\n      <Nav/>\n      <div className='container'>\n        <h1 style={{paddingTop:'40px', paddingBottom:'30px'}}>Stats</h1>\n        <Filter onDateChange={this.onDateChange} />\n        <h6 style={{width:'5%', textAlign:'center', padding:'5px', borderRadius:'4px'}} className='text-white bg-indigo-600 bg-[length:100px_100px]'>SALES</h6>\n        <br/>\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Partner Name</th>\n                <th scope=\"col\">Paid Order</th>\n                <th scope=\"col\">Unpaid Order</th>\n                <th scope=\"col\">Total Order</th>\n              </tr>\n            </thead>\n            <tbody>\n            {this.state.partners.map((partner)=>{\n              return(\n              <tr>\n                <td>\n                {this.partnerName(partner)}\n                </td>\n                <td>\n                {this.paidCount(partner)}\n                </td>\n                <td>\n                {this.unpaidCount(partner)}\n                </td>\n                <td>\n                {this.total(partner)}\n                </td>\n              </tr>\n              )\n              })}\n            </tbody>\n            </table>\n            <div className='row'>\n              <div className='col'>\n              <h6 style={{width:'22%', textAlign:'center', padding:'5px', borderRadius:'4px'}} className='text-white bg-indigo-600 bg-[length:100px_100px]'>PAYMENT LINKS</h6>\n        <br/>\n\n        <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n\n                <th scope=\"col\">Partner Name</th>\n                <th scope=\"col\">Paid Order</th>\n                <th scope=\"col\">Total Order</th>\n                <th scope=\"col\">Conversion</th>\n\n              </tr>\n            </thead>\n            <tbody>\n            {this.state.partners.map((partner)=>{\n              return(\n              <tr>\n                <td>\n                {this.partnerName(partner)}\n                </td>\n                <td>\n                {this.paidCount(partner)}\n                </td>\n                <td>\n                {this.total(partner)}\n                </td>\n                <td>\n                {(this.paidCount(partner)*100)/this.total(partner)}\n                %\n                </td>\n              </tr>\n              )\n              })}\n            </tbody>\n            </table>\n\n              </div>\n              <div className='col'>\n              <h6 style={{width:'21%', textAlign:'center', padding:'5px', borderRadius:'4px'}} className='text-white bg-indigo-600 bg-[length:100px_100px]'>LEADS CHASED</h6>\n        <br/>\n\n          <table class=\"table table-bordered\">\n            <thead>\n              <tr>\n\n                <th scope=\"col\">Partner Name</th>\n                <th scope=\"col\">Paid Order</th>\n                <th scope=\"col\">Total Order</th>\n                <th scope=\"col\">Conversion</th>\n\n              </tr>\n            </thead>\n            <tbody>\n            {this.state.partners.map((partner)=>{\n              return(\n              <tr>\n                <td>\n                {this.partnerName(partner)}\n                </td>\n                <td>\n                {this.paidCount(partner)}\n                </td>\n                <td>\n                {this.total(partner)}\n                </td>\n                <td>\n                {(this.paidCount(partner)*100)/this.total(partner)}\n                %\n                </td>\n              </tr>\n              )\n              })}\n            </tbody>\n            </table>\n\n              </div>\n\n            </div>\n      </div>\n</>\n  )\n}\n}\n"]},"metadata":{},"sourceType":"module"}